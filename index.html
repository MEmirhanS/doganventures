<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/jpeg" href="/logo.jpg" />
    <link rel="shortcut icon" type="image/jpeg" href="/logo.jpg" />
    <link rel="apple-touch-icon" href="/logo.jpg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOGANVENTURES - ≈ûirketinizi 10X B√ºy√ºt√ºn | Premium Danƒ±≈ümanlƒ±k</title>
    <meta
      name="description"
      content="T√ºrkiye'nin #1 danƒ±≈ümanlƒ±k ≈üirketi DOGANVENTURES. 1000+ ba≈üarƒ±lƒ± projeyle ≈üirketinizi dijitalde 10X b√ºy√ºt√ºyoruz. Hemen √ºcretsiz analiz i√ßin ba≈üvurun!"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Facebook Pixel - Vercel Optimized -->
    <script>
      // Console log for debugging
      console.log("üîÑ Facebook Pixel loading...");
      console.log("üåç Environment:", window.location.hostname);

      // AdBlock Detection
      function isAdBlockActive() {
        const testAd = document.createElement("div");
        testAd.innerHTML = "&nbsp;";
        testAd.className = "adsbox";
        testAd.style.position = "absolute";
        testAd.style.left = "-9999px";
        document.body.appendChild(testAd);

        const isBlocked = testAd.offsetHeight === 0;
        document.body.removeChild(testAd);

        if (isBlocked) {
          console.warn("üö´ AdBlock detected - Pixel may be blocked");
        } else {
          console.log("‚úÖ No AdBlock detected");
        }
        return isBlocked;
      }

      // Wait for DOM and check AdBlock
      window.addEventListener("DOMContentLoaded", function () {
        setTimeout(isAdBlockActive, 1000);
      });

      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );

      // Initialize with error handling and retry mechanism
      function initPixel() {
        try {
          fbq("init", "1049814317342355");
          fbq("track", "PageView");
          console.log("‚úÖ Facebook Pixel initialized successfully");
          return true;
        } catch (error) {
          console.error("‚ùå Facebook Pixel initialization failed:", error);
          return false;
        }
      }

      // Try to initialize immediately
      if (!initPixel()) {
        // Retry after 2 seconds if failed
        setTimeout(function () {
          console.log("üîÑ Retrying pixel initialization...");
          initPixel();
        }, 2000);
      }

      // Verify pixel is loaded after page load
      window.addEventListener("load", function () {
        setTimeout(function () {
          if (typeof fbq !== "undefined") {
            console.log("üéØ Facebook Pixel loaded on production!");
            // Test pixel functionality
            try {
              fbq("track", "PageView");
              console.log("üî• Pixel test successful!");
            } catch (testError) {
              console.error("‚ùå Pixel test failed:", testError);
            }
          } else {
            console.error("‚ö†Ô∏è Facebook Pixel NOT loaded on production!");
            console.log("üîß Trying alternative loading method...");

            // Alternative loading method
            const script = document.createElement("script");
            script.src = "https://connect.facebook.net/en_US/fbevents.js";
            script.onload = function () {
              console.log("üì¶ Alternative pixel script loaded");
              initPixel();
            };
            script.onerror = function () {
              console.error("‚ùå Alternative pixel loading also failed");
            };
            document.head.appendChild(script);
          }
        }, 3000);
      });
    </script>
  </head>
  <body>
    <!-- Facebook Pixel noscript -->
    <noscript>
      <img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=1049814317342355&ev=PageView&noscript=1"
      />
    </noscript>

    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
